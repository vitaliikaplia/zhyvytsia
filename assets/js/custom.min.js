const visibleClass="show",animateElements=[".scroll-show"],isMobile="Mobile"==navigator.userAgent.match(/Mobile/i),ajaxUrl="/wp-admin/admin-ajax.php",siteCookieDomain="."+document.location.hostname.replace("www.",""),footerEl=document.querySelector("footer"),bodyEl=document.querySelector("body");let elementsFadeInTimer=30;function isValidEmailAddress(e){return new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i).test(e)}function run_greetings(e){if(!e.classList.contains("initialized")){new Typed(e,{strings:e.parentNode.getAttribute("data-greetings").split(","),typeSpeed:100,loop:!0,startDelay:200,backDelay:1500});e.classList.add("initialized")}}function run_feedback_slider(e){let t={};e.dataset.interval&&(t={delay:parseInt(e.dataset.interval),disableOnInteraction:!1});new Swiper(e,{direction:"horizontal",slidesPerView:4,spaceBetween:40,loop:!0,autoplay:t,pagination:{el:".feedback-swiper-pagination",clickable:!0},grabCursor:!0})}function run_about_slider(e){new Swiper(e,{direction:"horizontal",slidesPerView:8,spaceBetween:0,loop:!0,grabCursor:!0})}function custom_form_submit(e){""==e.find('input[id="form_name"]').val()&&e.find('input[id="form_name"]').val(document.title),""==e.find('input[id="form_url"]').val()&&e.find('input[id="form_url"]').val(document.location.href),e.find("select").change((function(){"null"!=jQuery(this).val()&&jQuery(this).addClass("selected")})),e.find("textarea").length&&e.find("textarea").each((function(){var e=jQuery(this),t=e.outerHeight();e.autogrow(),e.css("height",t)})),e.find("button").click((function(){return e.submit(),!1})),e.find(".required").bind("click keyup",(function(){let e=$(this);setTimeout((function(){e.removeClass("red")}),400)})),e.submit((function(t){var i;if(t.preventDefault(),!e.hasClass("busy")&&(i=!0,e.find("input.required").length&&e.find("input.required").each((function(){""==jQuery(this).val().trim()?(i=!1,jQuery(this).addClass("red"),e.find(".red").first().focus()):jQuery(this).removeClass("red")})),e.find("textarea.required").length&&e.find("textarea.required").each((function(){""==jQuery(this).val().trim()?(i=!1,jQuery(this).addClass("red")):jQuery(this).removeClass("red")})),e.find("select.required").length&&e.find("select.required").each((function(){null==jQuery(this).val()?(i=!1,jQuery(this).addClass("red")):jQuery(this).removeClass("red")})),e.find("input.email").length&&e.find("input.email").each((function(){isValidEmailAddress(jQuery(this).val().trim())?jQuery(this).removeClass("red"):(i=!1,jQuery(this).addClass("red"))})),1==i)){e.addClass("busy"),e.find("input, button").each((function(){jQuery(this).blur()}));const t=new FormData(e[0]);for(const[i,n]of new FormData(e[0])){const e=encodeURIComponent(n);t.append(i,e)}jQuery.ajax({type:"POST",url:ajaxUrl,dataType:"json",data:new FormData(e[0]),contentType:!1,cache:!1,processData:!1,success:function(t){console.log(t),"ok"==t.status&&(e.find("select").addClass("required").removeClass("selected"),e.removeClass("busy"),e.trigger("reset"))}})}}))}function check_password_strength(e){let t=new Array;return e.length<8?t.p_length=!1:t.p_length=!0,/[a-z]/.test(e)?t.lowercase=!0:t.lowercase=!1,/[A-Z]/.test(e)?t.uppercase=!0:t.uppercase=!1,/[0-9]/.test(e)?t.digits=!0:t.digits=!1,/[^a-zA-Z0-9]/.test(e)?t.special=!0:t.special=!1,t}function prepare_middle_popup(){$("body").addClass("pop-up"),$("body").append('<div class="middlePopupWrapper"></div>'),$(".middlePopupWrapper").html('<div class="middlePopup loading"><span class="close"></span><p class="title"></p><div class="content"></div></div>'),$(".middlePopup .close").click((function(){$(".middlePopupWrapper").remove(),$("body").removeClass("pop-up")})),$(".middlePopupWrapper").click((function(e){"middlePopupWrapper"==$(e.target).attr("class")&&($(".middlePopupWrapper").remove(),$("body").removeClass("pop-up"))}))}function add_content_into_middle_popup(e,t){$(".middlePopupWrapper .middlePopup").removeClass("loading"),$(".middlePopupWrapper .middlePopup .title").html(e),$(".middlePopupWrapper .middlePopup .content").html(t)}function isInViewport(e){const t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,s=t.top>=0&&t.top<=i,o=t.bottom>=0&&t.bottom<=i,a=t.left>=0&&t.left<=n,d=t.right>=0&&t.right<=n;return(s||o)&&(a||d)}function fadeInElement(e){e.classList.contains(visibleClass)||(setTimeout((function(){e.classList.add(visibleClass)}),elementsFadeInTimer),elementsFadeInTimer+=90)}function checkElementsVisibility(){animateElements.forEach((function(e){document.querySelectorAll(e).forEach((function(e){(isInViewport(e)||isMobile)&&fadeInElement(e)}))})),elementsFadeInTimer>30&&(elementsFadeInTimer=30)}window.addEventListener("DOMContentLoaded",checkElementsVisibility),window.addEventListener("load",checkElementsVisibility),window.addEventListener("scroll",checkElementsVisibility),window.addEventListener("resize",checkElementsVisibility),window.addEventListener("DOMContentLoaded",(function(){document.body.classList.remove("preload")})),function(e){e(document).ready((function(){e("body").headroom({tolerance:{up:14,down:16}});document.querySelectorAll(".main-hero .suffix").forEach((function(e){run_greetings(e)})),!e.cookie("user-cookies-accepted")&&e(".cookiePopupWrapper").length&&(setTimeout((function(){e(".cookiePopupWrapper").addClass("show")}),2e3),e(".cookiePopupWrapper").click((function(t){return(e(t.target).hasClass("cookiePopupWrapper")||e(t.target).is("span"))&&(e.cookie("user-cookies-accepted",!0),e(".cookiePopupWrapper").removeClass("show")),!1})));document.querySelectorAll(".feedbackWrapper .feedback").forEach((function(e){run_feedback_slider(e)}));let t,i;document.querySelectorAll(".aboutGalleryWrapper .aboutGallery").forEach((function(e){run_about_slider(e)})),e(".main-form .customBlock form").length&&e(".main-form .customBlock form").each((function(){custom_form_submit(e(this))})),e(".singleCatalogItem .thumbnails").length&&(i=new Swiper(".singleCatalogItem .thumbnails",{loop:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0})),e(".singleCatalogItem .frame").length&&(t=new Swiper(".singleCatalogItem .frame",{loop:!0,spaceBetween:10,autoHeight:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:i}})),e(".descriptionWrapper button").length&&e(".descriptionWrapper button").click((function(){let t=e(this),i=t.prev();i.hasClass("short")?(i.removeClass("short"),t.text("Показати менше")):(i.addClass("short"),t.text("Показати більше"))}));const n=document.querySelectorAll("form .showHide");n&&n.forEach((function(e){const t=e.nextElementSibling;t&&e.addEventListener("click",(function(){"password"==t.type?(t.type="text",this.setAttribute("data-show",this.textContent),this.textContent=this.getAttribute("data-hide"),this.classList.remove("show"),this.classList.add("hide")):(t.type="password",this.textContent=this.getAttribute("data-show"),this.classList.remove("hide"),this.classList.add("show"))}))})),e('.sign-up input[type="password"]').length&&e('.sign-up input[type="password"]').on("change keyup",(function(){let t=e(this),i=t.next(),n=t.val()?.trim(),s=check_password_strength(n);Object.values(s).some((e=>!1===e))?(i.addClass("show"),i.find(".length").toggleClass("show",!s.p_length),i.find(".lowercase").toggleClass("show",!s.lowercase),i.find(".uppercase").toggleClass("show",!s.uppercase),i.find(".digits").toggleClass("show",!s.digits),i.find(".special").toggleClass("show",!s.special)):i.removeClass("show")})),e(".profile input.user_phone").length&&e(".profile input.user_phone").mask("+380 00 000-00-00",{placeholder:"+380 __ ___-__-__"}),e('.profile a[href="#confirm-email"]').click((function(){return prepare_middle_popup(),e.ajax({type:"POST",url:ajaxUrl,dataType:"json",cache:!1,data:{action:"profile_confirm_email_content"},success:function(t){if("ok"==t.status){add_content_into_middle_popup(t.title,t.content);let i=e("form.profile-confirm-email");i.find(".codeInput input:first-child").focus(),i.find(".codeInput input").each((function(){e(this).mask("0",{placeholder:"_"}),e(this).unbind("keyup")})),i.find(".codeInput input").on("focus",(function(){e(this).hasClass("input_1")||""!=e(this).prev().val().trim()||e(this).prev().focus()})),i.find(".codeInput input").on("keyup",(function(){e(this).removeClass("red"),""!=e(this).val().trim()?e(this).next().focus():e(this).prev().focus(),e(this).hasClass("input_4")&&""!=e(this).val().trim()&&(i.find(".codeInput input").addClass("disabled"),i.find(".codeInput input").blur(),e.ajax({type:"POST",url:ajaxUrl,dataType:"json",data:new FormData(i[0]),contentType:!1,cache:!1,processData:!1,success:function(t){"ok"==t.status?(add_content_into_middle_popup(t.title,t.content),e('.profile form input[type="email"]').next().html(t.confirmed)):(i.find(".codeInput input").addClass("red"),i.find(".codeInput input").removeClass("disabled"),i.find(".codeInput input:last-child").focus())}}))})),e(".middlePopup .resend").click((function(){return e(".middlePopup .resend").addClass("busy"),e(".middlePopup .resend .loader").addClass("show"),e.ajax({type:"POST",url:ajaxUrl,dataType:"json",cache:!1,data:{action:"profile_resend_verification_code_to_email"},success:function(t){"ok"==t.status&&(e(".middlePopup .resend .label").attr("data-static-label",e(".middlePopup .resend .label").text()),e(".middlePopup .resend .label").text(t.label),e(".middlePopup .resend .loader").removeClass("show"),e(".middlePopup .codeInput input:first-child").focus(),setTimeout((function(){e(".middlePopup .resend").removeClass("busy"),e(".middlePopup .resend .label").text(e(".middlePopup .resend .label").attr("data-static-label")),e(".middlePopup .resend .label").removeAttr("data-static-label")}),6e4))}}),!1}))}}}),!1})),e('.profile a[href="#confirm-phone"]').click((function(){return prepare_middle_popup(),e.ajax({type:"POST",url:ajaxUrl,dataType:"json",cache:!1,data:{action:"profile_confirm_phone_number_content"},success:function(t){if("ok"==t.status){add_content_into_middle_popup(t.title,t.content);let i=e("form.confirm-phone-number");i.find(".codeInput input:first-child").focus(),i.find(".codeInput input").each((function(){e(this).mask("0",{placeholder:"_"}),e(this).unbind("keyup")})),i.find(".codeInput input").on("focus",(function(){e(this).hasClass("input_1")||""!=e(this).prev().val().trim()||e(this).prev().focus()})),i.find(".codeInput input").on("keyup",(function(){e(this).removeClass("red"),""!=e(this).val().trim()?e(this).next().focus():e(this).prev().focus(),e(this).hasClass("input_4")&&""!=e(this).val().trim()&&(i.find(".codeInput input").addClass("disabled"),i.find(".codeInput input").blur(),e.ajax({type:"POST",url:ajaxUrl,dataType:"json",data:new FormData(i[0]),contentType:!1,cache:!1,processData:!1,success:function(t){"ok"==t.status?(add_content_into_middle_popup(t.title,t.content),e('.profile form input[name="user_phone"]').next().html(t.confirmed)):(e(".middlePopup .codeInput input").addClass("red"),e(".middlePopup .codeInput input").removeClass("disabled"),e(".middlePopup .codeInput input:last-child").focus())}}))})),e(".middlePopup .resend").click((function(){return e(".middlePopup .resend").addClass("busy"),e(".middlePopup .resend .loader").addClass("show"),e.ajax({type:"POST",url:ajaxUrl,dataType:"json",cache:!1,data:{action:"profile_resend_verification_code_to_sms"},success:function(t){"ok"==t.status&&(e(".middlePopup .resend .label").attr("data-static-label",e(".middlePopup .resend .label").text()),e(".middlePopup .resend .label").text(t.label),e(".middlePopup .resend .loader").removeClass("show"),e(".middlePopup .codeInput input:first-child").focus(),setTimeout((function(){e(".middlePopup .resend").removeClass("busy"),e(".middlePopup .resend .label").text(e(".middlePopup .resend .label").attr("data-static-label")),e(".middlePopup .resend .label").removeAttr("data-static-label")}),6e4))}}),!1}))}}}),!1}))}))}(jQuery),function(e){e(window).on("load scroll resize",(function(){footerEl&&!e("body").hasClass("profile")&&(isInViewport(footerEl)?bodyEl.classList.contains("footer-in-viewport")||bodyEl.classList.add("footer-in-viewport"):bodyEl.classList.contains("footer-in-viewport")&&bodyEl.classList.remove("footer-in-viewport"))}))}(jQuery);